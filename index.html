# Retry updating the file with the self-referencing canonical tag and generate a new download link

# Load the original file
file_path = "/mnt/data/index.html"
with open(file_path, "r", encoding="utf-8") as file:
    html_content = file.readlines()

# Define the canonical tag to add
canonical_tag = '    <link rel="canonical" href="https://coventryflooring.co.uk/" />\n'

# Insert the canonical tag right after the <title> tag in the <head> section
for i, line in enumerate(html_content):
    if "<title>" in line:
        html_content.insert(i + 1, canonical_tag)
        break

# Save the updated file
updated_file_path = "/mnt/data/index_updated.html"
with open(updated_file_path, "w", encoding="utf-8") as file:
    file.writelines(html_content)

# Provide the updated file for download
updated_file_path
